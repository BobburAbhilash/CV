<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>An R package for plotting partially pooled estimates for mixed-effects models | My New Hugo Site</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">An R package for plotting partially pooled estimates for mixed-effects models</span></h1>

<h2 class="date">2017/07/21</h2>
</div>

<main>
<p>I came across <a href="https://tjmahr.github.io/plotting-partial-pooling-in-mixed-effects-models/">this excellent post</a> from Tristan Mahr on plotting partially pooled estimates for mixed-effects models and was inspired to create an R package for it based on the code in the post. I found mixed models made more sense to me when I thought of them in terms of partial pooling, and I had been looking for ways to plot partially pooled estimates both as a more accessible way into telling others about mixed effects models and as a way to assess the fit of and better understand mixed effects models when I came across Mahr’s post.</p>
<div id="background" class="section level2">
<h2>Background</h2>
<p>As a bit of background (this is from the Description for the package):</p>
<blockquote>
<p>Scholars have defined mixed effects models as a compromise between complete pooling estimates (i.e., those from a linear model ignoring a grouping factor), no pooling estimates (i.e., a linear model for which each level of the grouping factor is dummy-coded), and partially pooled estimates (i.e., those from mixed effects models, for which group-specific estimates are shrunken to (or gather strength from) the overall estimates (Gelman &amp; Hill, 2007).</p>
</blockquote>
</div>
<div id="lme4plotpartial" class="section level2">
<h2>lme4plotpartial</h2>
<p>The package, tentatively and not very interestingly named <code>lme4plotpartial</code>, is on GitHub <a href="https://github.com/jrosen48/lme4plotpartial">here</a>. It loads a function, <code>plot_partial_pooling()</code>, that plots the complete pooling, no pooling, and partially pooled estimates for a mixed effects model.</p>
</div>
<div id="example" class="section level2">
<h2>Example</h2>
<p>For now, an example, from Mahr’s post (here, <code>dplyr</code> and <code>lme4</code> are loaded for data procesing and a data file, respectively):</p>
<pre class="r"><code>library(dplyr, warn.conflicts = FALSE)
library(lme4)
library(lme4plotpartial)

sleepstudy &lt;- sleepstudy %&gt;% 
  as_tibble() %&gt;% 
  mutate(Subject = as.character(Subject))

plot_partial_pooling(sleepstudy, y_var = Reaction, x_var = Days, group = Subject)</code></pre>
<p><img src="/blog/2017-07-21-introducing-an-r-package-for-plotting-partially-pooled-estimates-for-a-mixed-effects-model_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
</div>
<div id="future-improvements" class="section level2">
<h2>Future improvements</h2>
<p>In terms of potential improvements, an idea that would vastly expand functionality is to parse a <code>lme4()</code> formula to specify the variables.</p>
<p>As a bit of reflection: The best part about creating this package, to me, was that after making I messaged Tristan, who then took time to (immensely) improve on it (in changes that are now reflected in the version of it available on GitHub). It was a cool example of the benefits of sharing (in my case, even in-progress work), because others can then use it.</p>
<p>Check it out and let us know what you think.</p>
</div>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

